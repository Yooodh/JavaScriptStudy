<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>#5</title>
    <script src="Index.js"></script>
</head>
<body>
    <!-- 클릭했을 때 alert 띄우기 -->
    <button onclick="alert('click')">클릭1</button>

    <!-- onclick 내부에 함수 넣기 -->
    <button onclick="sayHello()">클릭2</button>

    <!-- 버튼에 id를 주고 hendler 할당하기1 -->
    <button id="btn">클릭3</button>

    <!-- 버튼에 id를 주고 hendler 할당하기2 -->
    <button id="btn2">클릭4</button>

    <!-- 버튼에 id를 주고 hendler 할당하기3 -->
    <button id="btn3">클릭5</button>

    <input id="txt" type="text" />

    <input id="txt2" type="text" />

    <div id="box"
        style="position: relative; width: 100px; height: 100px; margin: 2px; border: 2px solid blue">
        <!-- box 내부에 원 만들기 -->
        <div
            id="circle"
            style="
                position: absolute;
                width: 10px;
                height: 10px;
                background-color: #000;
                border-radius: 50%;
            ">
        </div>
    </div>

    <script>
        function sayHello(){
            alert("Hello");
        }

        const el = document.getElementById('btn');
        el.onclick = sayHello;

        // addEventListener는 특정 이벤트('click')가 발생하면 전달 된 함수(sayHello)를 실행한다.
        const el2 = document.getElementById('btn2');

        // el2.addEventListener('click', sayHello);
        el2.addEventListener("click", () => {
            alert("hi");
        }); // 함수를 전달하지 않고 직접 작성하는 것도 가능하다.

        // DOMContentLoaded는 문서 로드가 완료 되었을 때 발생한다.
        // DOMContentLoaded가 발생하면
        document.addEventListener('DOMContentLoaded', () => {

            // body에 배경색을 빨간색으로 바꾼다.
            document.body.style.backgroundColor = 'red'
        })

        // // 이렇게 작성하면 동작하지 않는다.
        // // 가급적이면 addEventListener로 통일하는 것이 좋다.
        // document.DOMContentLoaded = () => {
        //     document.body.style.backgroundColor = 'red'
        // };

        // // removeEventListener는 이미 할당된 Handler를 삭제할 때 사용한다.
        // document.removeEventListener('DOMContentLoaded', () => {
        //     document.body.style.backgroundColor = 'red'
        // })

        // dblclick은 더블 클릭 했을 때 실행된다.
        const el3 = document.getElementById("btn3");
        el3.addEventListener("dblclick", sayHello);

        // 자주 사용하는 키보드 이벤트에는 keydown, keyup 이 있다. 누를 때, 뗄 때 발생하는 이벤트
        const input = document.getElementById("txt");

        // hendler는 event객체를 인수로 받는다.
        input.addEventListener("keyup", (event) => {
            console.log("key up");
            console.log(event);

            // 입력한 글자들이 찍힌다.
            console.log(event.key);
        });

        // input 텍스트에는 
        // focus/focusin
        // blur/focusout
        // 이벤트가 있다.

        // focus는 input창에 focus가 나면 발생한다.
        // blur는 focus를 잃을 때 발생한다.

        const input2 = document.getElementById("txt2");

        // focus가 되었을 때
        input2.addEventListener("focus", () => {

            // 배경색을 바꿔주고
            input2.style.backgroundColor = 'rgba(255,0,0,0.2)';
        });
        
        // focus를 잃으면
        input2.addEventListener("blur", () => {

            // 초기화 시켜준다.
            input2.style.backgroundColor = null;
        });

        // box 내부에서 마우스를 움직일 때 마다 이벤트가 찍힌다.
        const box = document.getElementById("box");
        box.addEventListener('mousemove', event => {
            console.log(event);
            // clientX, clientY를 참고하면 마우스의 좌표를 알 수 있다.
        });

        // 마우스를 움직이면 box안의 원의 top과 left 값을 바꿔준다.
        const circle = document.getElementById("circle");
        box.addEventListener('mousemove', event => {
            circle.style.top = `${event.clientY}px`;
            circle.style.left = `${event.clientX}px`;
        });

        // 창 크기가 바뀔 때마다 너비와 높이를 resize해준다.
        window.addEventListener("resize", () => {
            document.body.innerText = `현재 창 크기는 ${window.
            innerWidth} x ${window.innerHeight}`;
        });
    </script>
    
</body>
</html>